<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Carte des Rassemblements Auto</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; background: #f0f2f5; }
        #map { 
            height: 500px; 
            width: 100%; 
            max-width: 900px; 
            border-radius: 12px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin: auto;
        }
        h1 { text-align: center; color: #2c3e50; }
        .custom-popup .leaflet-popup-content-wrapper { border-radius: 8px; padding: 5px; }
        .custom-popup h3 { margin: 0 0 5px 0; color: #e67e22; }
    </style>
</head>
<body>

    <h1>Rassemblements 2026</h1>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        // 1. Initialisation de la carte (centr√©e sur le Massif Central)
        var map = L.map('map').setView([45.0, 3.8], 7);

        // 2. Chargement du fond de carte (OpenStreetMap)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);

        // 3. D√©finition des ic√¥nes de couleurs
        const createIcon = (color) => new L.Icon({
            iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
        });

        const redIcon = createIcon('red');
        const orangeIcon = createIcon('orange');
        const greenIcon = createIcon('green');

        // 4. Liste des √©v√©nements
        const events = [
            {
                name: "Rassemblement Amical",
                date: "26 Avril 2026",
                desc: "Tout type de v√©hicule, tr√®s convivial.",
                pos: [45.115, 4.391], // Mas-de-Tence
                icon: greenIcon
            },
            {
                name: "Sortie Mob et Motos",
                date: "24 Mai 2026",
                desc: "R√©serv√© aux mobs et motos < 100cc.",
                pos: [45.116, 4.395], // D√©cal√© l√©g√®rement
                icon: orangeIcon
            },
            {
                name: "La Balade des Sucs",
                date: "28 Juin 2026",
                desc: "Routes du Forez. V√©hicules de +25 ans.",
                pos: [45.114, 4.393],
                icon: redIcon
            },
            {
                name: "Balade Cheveux au Vent",
                date: "5-6 Septembre 2026",
                desc: "Gorges du Tarn. Sp√©cial cabriolets.",
                pos: [44.350, 3.350], // Gorges du Tarn
                icon: redIcon
            }
        ];

        // 5. Ajout des marqueurs sur la carte
        events.forEach(event => {
            L.marker(event.pos, {icon: event.icon})
                .addTo(map)
                .bindPopup(`
                    <div class="custom-popup">
                        <h3>${event.name}</h3>
                        <strong>üìÖ ${event.date}</strong>
                        <p>${event.desc}</p>
                    </div>
                `);
        });
    </script>
</body>
</html>